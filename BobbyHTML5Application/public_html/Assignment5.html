<!DOCTYPE html>
<!--
    File:  Assignment5.html
    91.461 Assignment: Formating Dynamic Text
    Bobby T. Donald, Junior at UMass Lowell in Computer Science, 
    Email: robert_donald1@student.uml.edu, File Created: 9/5/14
    Description: This page dynamically loads text from article.json 
    Copyright (c) 2014 by Robert T. Donald.  All rights reserved.  May not be used
    without authors written permission.
-->
<html>
    <head>
        <!-- A link to css style sheet "mystyles.css" -->
        <link rel="stylesheet" type="text/css" href="mystyles.css" />
        <title>Assignment5</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
          
    <!-- The three scripts below are from
    https://teaching.cs.uml.edu/~heines/91.461/91.461-2014-15f/461-assn/FormattingText-v04.jsp
    They have been modified to work with my website-->
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    
    <!-- load the JSON file article.json -->
    <script type="text/javascript">
      var story;
      
      jQuery.ajax({
        async: false,
        dataType: "json",
        url: "article.json" ,
        success: function( data ) {
          story = data ;
        }
      });

      jQuery(document).ready( function() {
        placeContent() ;
      } ) ;
    </script>

    
    <!-- script to place JSON text in the placeholder on this page -->
    <script type="text/javascript">
      // N.B.  This version *does* apply the CSS.
      function placeContent() {
        var strContent = "";

        // create dynamic content from JSON
        strContent += "<h1 class='titleArticle'>" + story.title + "</h1>" ;
        strContent += "<h2 class='authorArticle'>" + story.author + "</h2>" ;
        strContent += "<h3 class='dateArticle'>" + story.date + "</h2>" ;

        strContent += "<ul class='lyrics'>"
        // loop through all the paragraphs and sentences and add them to the page
        // as unordered list elements
        for ( var para = 0 ; para < story.text.paragraphs.length ; para++ ) {
          strContent += "<li class= lyrics>" ;
          for ( var sent = 0 ; sent < story.text.paragraphs[para].length ; sent++ ) {
            strContent += story.text.paragraphs[para][sent] + "<br />" ;
          }
          strContent += "<br />" + "</li>" ;
        }
        strContent += "</ul>"
        
        /* Read file info about image from article.json*/
        strContent += "<img src='" + story.img.file + "' alt='" + story.img.alt + "'>" ;
        
        // place dynamic content on page
        // document.getElementById( "content" ).innerHTML = strContent ;
        jQuery(".articleContent").html( strContent ) ;
        
        
        
        
        
        $.getJSON("article.json", title);

      }

      </script>     
    </head>
    
    <body class="page">
        <!-- This is the menu at top of screen with links to Home and Assignments(this page) -->
        <!-- This menu is on all of the pages -->
        <div class="topmenu">
            <ul>
                <li><a href="FirstWebPage.html"> Home</a></li>
                <li><a href="Assignments.html"> Assignments</a></li>
            </ul>
        </div>
        
        <!-- Header titled Assignments-->
        <div class="title" >
            <h1>Assignment 5 (Formatting Dynamic Text)</h1>
        </div>
        
          <!-- this is the layout that will surround the content 
          that is to be inserted dynamically-->
          <div class ="border">
             <div class ="content">
                <div class="centermenu">
                    <!-- The dynamic content will be inserted here-->
                    <div class="articleContent"></div>
                </div>    
            </div>
        </div>
          
          <!-- Footer at the bottom of the page, contains a link to my email-->
        <div class ="footerNotAbsolute">
            <a href="mailto:robert_donal1@student.uml.edu">Contact Me: robert_donald1@student.uml.edu</a> 
        </div>
        
    </body>
</html>
